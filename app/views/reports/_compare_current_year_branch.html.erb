				<div class="row-fluid">
					<div class="offset4">
							<div class="block-content collapse in">
								<h2 style="font-size: 17px;"><i>Sales Comparison Report Period <%= from.to_date.strftime("%e %B %Y") %> - <%= to.to_date.strftime("%e %B %Y") %></i></h2>
							</div>
					</div>
				</div>
				<div class="row-fluid">
					<div class="offset0">
						<div class="span5">
							<!-- block -->
							<div class="block">
								<div class="navbar navbar-inner block-header">
									<div class="muted pull-left">Search Parameters</div>
									<div class="pull-right"><span class="badge badge-info"></span>

									</div>
								</div>
								<div class="block-content collapse in">
				          <table class="table table-striped">
				            <thead>
				              <tr>
				                <th>Brand</th>
				                <th>Type</th>
				                <th>Article</th>
				                <th>Fabric</th>
				                <th>Size</th>
				                <th>Group</th>
				              </tr>
				            </thead>
											<tfoot>
												<tr>
													<th scope="row">Total</th>
													<% (1..12).each do  %>
														<td></td>
													<% end %>
												</tr>
											</tfoot>
				            <tbody>
						          <tr>
								        <td><%= Merk.merk_name(brand).first.Merk %></td>
								        <td><%= type.nil? ? "" : Product.product_name(params[:type]).first.Namaroduk %></td>
								        <td><%= article.nil? ? "" : Artikel.artikel_name(params[:article]).first.Produk %></td>
								        <td><%= fabric.nil? ? "" : Kain.kain_name_from_code(params[:fabric]).first.NamaKain %></td>
												<% if size_type == 'T' %>
								        	<td>Special Size</td>
												<% elsif size_type == 'S' %>
								        	<td>Standard Size</td>
												<% else %>
								        	<td>All Size</td>
								        <% end %>
								        <td><%= group_by.capitalize %></td>
						          </tr>
				            </tbody>
				          </table>
								</div>
							</div>
							<!-- /block -->
						</div>
					</div>
				</div>
			<div class="row-fluid">
				<div class="offset7">
					<div class="block-content collapse in">
						<label>If you want to repeat your filter, please click <%= link_to 'New Filter', 
							reports_first_filter_path, {:class => "btn btn-primary"} %> or change your 
							<a href="#myModal" role="button" class="btn btn-primary" data-toggle="modal">Grouping & Compare by</a>
							<div id="myModal" class="modal hide fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
								<%= render 'group_compare' %>
							</div>
						</label>
					</div>
				</div>
			</div>
			<div class="row-fluid">
				<div class="block-content collapse in">
					<label>
						<%= link_to 'Export to Excel', url_for(:format => 'xls', :from => params[:from], :group_by => params[:group_by],
							:to => params[:to], :brand => params[:brand], :type => params[:type], :article => params[:article], :fabric => params[:fabric],
							:size_type => params[:size_type]), 
							:class=>"btn btn-info" %>
					</label>
				</div>
			</div>
			<br />
			<div class="row-fluid">
				<div class="block-content collapse in">
					<table id="customer_monthly" border="1" class="display" cellspacing="0" cellpadding="3" width="100%">
						<thead>
						  <tr>
						    <th rowspan="3">Branch</th>
						  </tr>
						  <tr>
								<th colspan="2">January</th>
								<th colspan="2">February</th>
								<th colspan="2">March</th>
								<th colspan="2">April</th>
								<th colspan="2">May</th>
								<th colspan="2">June</th>
						  </tr>
						  <tr>
						    <% (1..6).each do %>
						      <th>Qty</th>
						      <th>Value</th>
						    <% end %>
						  </tr>
						</thead>
						<tfoot>
						</tfoot>
						<tbody>
							<% @customerstore.each do |laporan| %>
						    <tr>
						    	<td><%= Cabang.find_by_id(laporan.cabang).Cabang.gsub(/Cabang/,'') %></td>

						      <!-- January -->
								    <% if LaporanCabang.customer_monthly(1, Date.today.year, laporan.cabang, type, 
											brand, article, fabric, size, customer, size_type, 
													customer_modern).empty? %>
										    <td>0</td>
										    <td>0</td>
										<% else %>
											<% LaporanCabang.customer_monthly(1, Date.today.year, laporan.cabang, type, 
											brand, article, fabric, size, customer, size_type, 
													customer_modern).each do |a| %>
										    <td><%= a.sum_jumlah.nil? ? "0" : a.sum_jumlah.to_i %></td>
										    <td><%= a.sum_harganetto2.nil? ? "0" : currency(a.sum_harganetto2) %></td>
											<% end %>
								    <% end %>


								    <% if LaporanCabang.customer_monthly(2, Date.today.year, laporan.cabang, type, 
											brand, article, fabric, size, customer, size_type, 
													customer_modern).empty? %>
										    <td>0</td>
										    <td>0</td>
										<% else %>
											<% LaporanCabang.customer_monthly(2, Date.today.year, laporan.cabang, type, 
											brand, article, fabric, size, customer, size_type, 
													customer_modern).each do |a| %>
										    <td><%= a.sum_jumlah.nil? ? "0" : a.sum_jumlah.to_i %></td>
										    <td><%= a.sum_harganetto2.nil? ? "0" : currency(a.sum_harganetto2) %></td>
											<% end %>
								    <% end %>


								    <% if LaporanCabang.customer_monthly(3, Date.today.year, laporan.cabang, type, 
											brand, article, fabric, size, customer, size_type, 
													customer_modern).empty? %>
										    <td>0</td>
										    <td>0</td>
										<% else %>
											<% LaporanCabang.customer_monthly(3, Date.today.year, laporan.cabang, type, 
											brand, article, fabric, size, customer, size_type, 
													customer_modern).each do |a| %>
										    <td><%= a.sum_jumlah.nil? ? "0" : a.sum_jumlah.to_i %></td>
										    <td><%= a.sum_harganetto2.nil? ? "0" : currency(a.sum_harganetto2) %></td>
											<% end %>
								    <% end %>


								    <% if LaporanCabang.customer_monthly(4, Date.today.year, laporan.cabang, type, 
											brand, article, fabric, size, customer, size_type, 
													customer_modern).empty? %>
										    <td>0</td>
										    <td>0</td>
										<% else %>
											<% LaporanCabang.customer_monthly(4, Date.today.year, laporan.cabang, type, 
											brand, article, fabric, size, customer, size_type, 
													customer_modern).each do |a| %>
										    <td><%= a.sum_jumlah.nil? ? "0" : a.sum_jumlah.to_i %></td>
										    <td><%= a.sum_harganetto2.nil? ? "0" : currency(a.sum_harganetto2) %></td>
											<% end %>
								    <% end %>


								    <% if LaporanCabang.customer_monthly(5, Date.today.year, laporan.cabang, type, 
											brand, article, fabric, size, customer, size_type, 
													customer_modern).empty? %>
										    <td>0</td>
										    <td>0</td>
										<% else %>
											<% LaporanCabang.customer_monthly(5, Date.today.year, laporan.cabang, type, 
											brand, article, fabric, size, customer, size_type, 
													customer_modern).each do |a| %>
										    <td><%= a.sum_jumlah.nil? ? "0" : a.sum_jumlah.to_i %></td>
										    <td><%= a.sum_harganetto2.nil? ? "0" : currency(a.sum_harganetto2) %></td>
											<% end %>
								    <% end %>


								    <% if LaporanCabang.customer_monthly(6, Date.today.year, laporan.cabang, type, 
											brand, article, fabric, size, customer, size_type, 
													customer_modern).empty? %>
										    <td>0</td>
										    <td>0</td>
										<% else %>
											<% LaporanCabang.customer_monthly(6, Date.today.year, laporan.cabang, type, 
											brand, article, fabric, size, customer, size_type, 
													customer_modern).each do |a| %>
										    <td><%= a.sum_jumlah.nil? ? "0" : a.sum_jumlah.to_i %></td>
										    <td><%= a.sum_harganetto2.nil? ? "0" : currency(a.sum_harganetto2) %></td>
											<% end %>
								    <% end %>
						    </tr>
						  <% end %>
						</tbody>
					</table>
				</div>
			</div>
			</br>
			<div class="row-fluid">
				<div class="block-content collapse in">
					<table id="customer_monthly2" border="1" class="display" cellspacing="0" cellpadding="3" width="100%">
						<thead>
						  <tr>
						    <th rowspan="3">Customer</th>
						  </tr>
						  <tr>
								<th colspan="2">July</th>
								<th colspan="2">August</th>
								<th colspan="2">September</th>
								<th colspan="2">October</th>
								<th colspan="2">November</th>
								<th colspan="2">December</th>
						  </tr>
						  <tr>
						    <% (1..6).each do %>
						      <th>Qty</th>
						      <th>Value</th>
						    <% end %>
						  </tr>
						</thead>
						<tfoot>
						</tfoot>
						<tbody>
							<% @customerstore.each do |laporan|	 %>
						    <tr>
								  <td><%= Cabang.find_by_id(laporan.cabang).Cabang.gsub(/Cabang/,'') %></td>

						      <!-- January -->
								    <% if LaporanCabang.customer_monthly(7,Date.today.year, laporan.cabang, type, 
											brand, article, fabric, size, customer, size_type, 
													customer_modern).empty? %>
										    <td>0</td>
										    <td>0</td>
										<% else %>
											<% LaporanCabang.customer_monthly(7, Date.today.year, laporan.cabang, type, 
											brand, article, fabric, size, customer, size_type, 
													customer_modern).each do |a| %>
										    <td><%= a.sum_jumlah.nil? ? "0" : a.sum_jumlah.to_i %></td>
										    <td><%= a.sum_harganetto2.nil? ? "0" : currency(a.sum_harganetto2) %></td>
											<% end %>
								    <% end %>


								    <% if LaporanCabang.customer_monthly(8, Date.today.year, laporan.cabang, type, 
											brand, article, fabric, size, customer, size_type, 
													customer_modern).empty? %>
										    <td>0</td>
										    <td>0</td>
										<% else %>
											<% LaporanCabang.customer_monthly(8, Date.today.year, laporan.cabang, type, 
											brand, article, fabric, size, customer, size_type, 
													customer_modern).each do |a| %>
										    <td><%= a.sum_jumlah.nil? ? "0" : a.sum_jumlah.to_i %></td>
										    <td><%= a.sum_harganetto2.nil? ? "0" : currency(a.sum_harganetto2) %></td>
											<% end %>
								    <% end %>


								    <% if LaporanCabang.customer_monthly(9, Date.today.year, laporan.cabang, type, 
											brand, article, fabric, size, customer, size_type, 
													customer_modern).empty? %>
										    <td>0</td>
										    <td>0</td>
										<% else %>
											<% LaporanCabang.customer_monthly(9,Date.today.year, laporan.cabang, type, 
											brand, article, fabric, size, customer, size_type, 
													customer_modern).each do |a| %>
										    <td><%= a.sum_jumlah.nil? ? "0" : a.sum_jumlah.to_i %></td>
										    <td><%= a.sum_harganetto2.nil? ? "0" : currency(a.sum_harganetto2) %></td>
											<% end %>
								    <% end %>


								    <% if LaporanCabang.customer_monthly(10, Date.today.year, laporan.cabang, type, 
											brand, article, fabric, size, customer, size_type, 
													customer_modern).empty? %>
										    <td>0</td>
										    <td>0</td>
										<% else %>
											<% LaporanCabang.customer_monthly(10, Date.today.year, laporan.cabang, type, 
											brand, article, fabric, size, customer, size_type, 
													customer_modern).each do |a| %>
										    <td><%= a.sum_jumlah.nil? ? "0" : a.sum_jumlah.to_i %></td>
										    <td><%= a.sum_harganetto2.nil? ? "0" : currency(a.sum_harganetto2) %></td>
											<% end %>
								    <% end %>


								    <% if LaporanCabang.customer_monthly(11,Date.today.year, laporan.cabang, type, 
											brand, article, fabric, size, customer, size_type, 
													customer_modern).empty? %>
										    <td>0</td>
										    <td>0</td>
										<% else %>
											<% LaporanCabang.customer_monthly(11, Date.today.year, laporan.cabang, type, 
											brand, article, fabric, size, customer, size_type, 
													customer_modern).each do |a| %>
										    <td><%= a.sum_jumlah.nil? ? "0" : a.sum_jumlah.to_i %></td>
										    <td><%= a.sum_harganetto2.nil? ? "0" : currency(a.sum_harganetto2) %></td>
											<% end %>
								    <% end %>


								    <% if LaporanCabang.customer_monthly(12, Date.today.year, laporan.cabang, type, 
											brand, article, fabric, size, customer, size_type, 
													customer_modern).empty? %>
										    <td>0</td>
										    <td>0</td>
										<% else %>
											<% LaporanCabang.customer_monthly(12, Date.today.year, laporan.cabang, type, 
											brand, article, fabric, size, customer, size_type, 
													customer_modern).each do |a| %>
										    <td><%= a.sum_jumlah.nil? ? "0" : a.sum_jumlah.to_i %></td>
										    <td><%= a.sum_harganetto2.nil? ? "0" : currency(a.sum_harganetto2) %></td>
											<% end %>
								    <% end %>
						    </tr>
						  <% end %>
						</tbody>
					</table>
				</div>
			</div>
